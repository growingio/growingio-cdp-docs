# 小程序端数据定义

## 圈选准备

### SDK版本: 

将想要圈选的 小程序 升级到 xxxxxxxxxxxxx 及以上的 SDK版本。

{% hint style="success" %}
目前不支持小程序Hybrid SDK
{% endhint %}

## 圈选操作

在 ”**数据 &gt; 事件 &gt; 无埋点事件**” 中点击 “**新建无埋点事件 &gt; {小程序应用}”** 进入小程序圈选准备页面。

如果您的手机与电脑处于同一WIFI网络下，使用手机打开小程序后您的头像便可以出现下用户列表区域。

![](../../.gitbook/assets/image%20%28474%29.png)

{% hint style="success" %}
如小程序授权头像等信息，您可以在列表区域看到您的头像和微信昵称；如果未授权以上信息，需要根据您微信的国家、省份、城市，或者手机型号、操作系统、微信版本和小程序版本找到您所操作的设备。
{% endhint %}

如果您的手机与电脑无法处于同一WIFI网络下，您可以点击 **扫码** 按钮。使用手机扫码成功后，您可以在手机端看到添加IP成功提示，之后使用手机打开小程序后您的头像便可以出现下用户列表区域。

![](../../.gitbook/assets/image%20%28475%29.png)

选择您的设备后点击 **开始圈选** ，开始定义无埋点事件。

![](../../.gitbook/assets/image%20%28473%29.png)

| 项 | 说明 |
| :--- | :--- |
| 1 | 实时数据上报区域 |
| 2 | 无埋点数据定义区域 |
| 3 | 数据上报时间 |
| 4 | 数据类型，包含页面浏览、元素点击、输入框修改、表单提交 |
| 5 | 事件状态，包含已定义事件和未定义事件 |
| 6 | 事件名称，仅对已定义事件展示定义名称 |
| 7 | 事件规则，页面浏览事件展示域名、路径和查询条件；元素事件展示名称、位置和跳转链接 |

{% tabs %}
{% tab title="定义页面" %}
点击 “**页面浏览**” 事件后，进入页面定义流程。

![](../../.gitbook/assets/image%20%28477%29.png)

当定义小程序原生页面时，您可以看到以下配置项：

| 项 | 说明 |
| :--- | :--- |
| 1 | \(必填\) 页面名称，请参考“无埋点事件命名规范“ |
| 2 | 页面事件定义业务场景描述 |
| 3 | 所属应用，定义的页面属于哪个应用。该选项不可编辑，默认属于圈选应用 |
| 4 | \(必填\) 路径，点击定义后默认识别当前页面路径，支持使用通配符 \*。 |
| 5 | 路径启用/仅用状态，禁用后定义规则忽略路径变化。默认开启路径识别 |
| 6 | 查询条件，点击定义后默认识别当前页面查询参数，参数值支持使用通配符 \*。 |
| 7 | 查看数据，点击后查看定义规则历史数据趋势。 |

{% hint style="success" %}
小程序域名即为所属应用，因此原生页面不支持定义域名。
{% endhint %}

点击保存后，保存定义规则，无埋点页面事件创建成功。

{% hint style="success" %}
无埋点页面事件创建成功后，仅能修改事件名称和描述。

同一个无埋点页面定义规则全局仅能定义一次。
{% endhint %}
{% endtab %}

{% tab title="定义元素" %}
点击 “**元素点击**“、“**输入框修改**”、“**表单提交**” 事件后，进入元素定义流程。

![](../../.gitbook/assets/image%20%28478%29.png)

| 项 | 说明 |
| :--- | :--- |
| 1 | \(必填\) 元素名称，请参考“无埋点事件命名规范“ |
| 2 | 元素事件定义业务场景描述 |
| 3 | 所属应用，定义的页面属于哪个应用。该选项不可编辑，默认属于圈选应用 |
| 4 | \(必填\) 所属页面，选择元素所属页面。 |
| 5 | 限制条件，支持限制元素内容、元素位置和跳转链接。 |
| 6 | 查看数据，点击后查看定义规则历史数据趋势。 |

点击保存后，保存定义规则，无埋点元素事件创建成功。

{% hint style="success" %}
无埋点元素事件创建成功后，仅能修改事件名称和描述。

同一个无埋点元素定义规则全局仅能定义一次。
{% endhint %}

#### 限定条件

* 元素内容

用户可以通过勾选和取消勾选限定是否匹配元素内容。

用户鼠标hover元素内容后出现编辑按钮，点击编辑按钮后可修改匹配的元素内容。支持精准匹配和模糊匹配两种模式。

![](../../.gitbook/assets/image%20%28422%29.png)

* 元素位置

用户可以通过勾选和取消勾选限定是否匹配元素位置。

勾选后限制元素位置为当前定义元素位置，取消勾选后不限制元素位置，定义事件包含所有同类元素。

![](../../.gitbook/assets/image%20%28414%29.png)

{% hint style="success" %}
仅当元素存在名称、位置时，才能支持限制以上三种元素信息。
{% endhint %}
{% endtab %}
{% endtabs %}

