---
description: 新建和管理数据导入任务
---

# 数据导入管理

## 创建数据导入

一、在顶部导航栏选择“**数据 &gt; 数据源 &gt; 数据导入管理**“，进入数据导入管理页面。

![&#x6570;&#x636E;&#x5BFC;&#x5165;&#x7BA1;&#x7406;&#x9875;&#x9762;](../../../.gitbook/assets/image%20%28139%29.png)

二、单击右上角**创建数据导入任务**，进入**创建数据导入**页面。

![&#x6570;&#x636E;&#x5BFC;&#x5165;&#x7C7B;&#x578B;&#x9009;&#x62E9;](../../../.gitbook/assets/image%20%28167%29.png)

三、选择数据导入类型，包含用户行为数据和用户属性数据。

四、按引导选择数据源、选择时间范围后获取 FTP 目录。

![&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5BFC;&#x5165;&#x9875;&#x9762;](../../../.gitbook/assets/image%20%28142%29.png)

五、按帮助文档上传数据后，在历史数据导入管理页面查看上传文件，点击继续完成数据上传。

![&#x6570;&#x636E;&#x5BFC;&#x5165;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF1A;&#x5BFC;&#x5165;&#x6210;&#x529F;&#x540E;&#x5BFC;&#x5165;&#x72B6;&#x6001;&#x53D8;&#x66F4;](../../../.gitbook/assets/image%20%2881%29.png)

## 数据导入格式

#### 用户行为数据

| 字段名 | 类型 | 备注 |
| :--- | :--- | :--- |
| userId | String | 必填，登录用户 id |
| event | String | 必填，事件标识，​需提前在数据管理中创建 |
| timestamp | Long | 必填，事件发生 unix 毫秒时间戳 |
| attrs | Map&lt;String, String&gt; | 可不填，事件属性，其中属性的 key ​需要提前在数据管理中创建​并关联 |

示例

```text
{​"event"​:​ ​"paySuccess"​,​ ​"userId"​:​ "​156xxx"​,​ ​"timestamp"​:​ ​1577246696001​,​ ​"attrs"​:​ ​{​"type"​: "Wechat"​}}
{​"event"​:​ ​"paySuccess"​,​ ​"userId"​:​ "​156xxx"​,​ ​"timestamp"​:​ ​1577246696002​,​ ​"attrs"​:​ ​{​"type"​: "Wechat"​}}
{​"event"​:​ ​"paySuccess"​,​ ​"userId"​:​ "​157xxx"​,​ ​"timestamp"​:​ ​1577246696001​,​ ​"attrs"​:​ ​{​"type"​: "Wechat"​}}
{​"event"​:​ ​"paySuccess2"​,​ ​"userId"​:​ ​"158xxx"​,​ ​"timestamp"​:​ ​1577246696003​,​ ​"attrs"​:​ ​{​"type"​: "Wechat"​}}
```

#### 用户属性

| 字段名 | 类型 | 备注 |
| :--- | :--- | :--- |
| userId | String | 必填，登录用户 id |
| attrs | Map&lt;String, String&gt; | 必填，用户属性，其中属性的 key ​需要提前在 “数据管理 -&gt; 用户属性“ 中创建​并关联 |

示例

```text
{"userId": "156xxx", "attrs": {"sex": "男", "age": 16}}
{"userId": "157xxx", "attrs": {"sex": "女", "age": 28}}
```

## 数据导入限制

1. 数据格式为 json，每条记录单独一行，用换行符分割
2. 单个数据文件大小不超过 256MB，可以支持多个文件的上传
3. 暂时不支持压缩的文件，请上传原始数据
4. 历史数据会按天分组导入。对于用户行为数据同一个事件重复导入会覆盖，并且会覆盖历史 SDK 打点的数据。对于用户属性数据会和历史数据做合并，T+1生效。

## 数据导入管理页面

在数据导入管理页面可以查看数据导入任务的名称、所属数据源、导入状态、创建时间、创建人。

您也可以对数据导入任务进行以下操作：

**搜索：**您可以在页面中列表上方的搜索框按数据导入任务名称来搜索数据导入任务。

**QuickView：**单击任一数据导入任务，您可以在右侧弹出的数据导入任务详情中，查看数据导入任务的基本信息。

