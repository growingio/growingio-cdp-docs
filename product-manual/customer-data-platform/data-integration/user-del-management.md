---
id: user-del-management
sidebar_position: 3
---

# 用户删除管理

## 简介[](#jian-jie)

2018年5月，欧洲联盟出台了《通用数据保护条例》，即GDPR。

1.  对违法企业的罚金最高可达2000万欧元（约合1.5亿元人民币）或者其全球营业额的4%，以高者为准。
    
2.  网站经营者必须事先向客户说明会自动记录客户的搜索和购物记录，并获得用户的同意，否则按“未告知记录用户行为”作违法处理。
    
3.  企业不能再使用模糊、难以理解的语言，或冗长的隐私政策来从用户处获取数据使用许可。
    
4.  明文规定了用户的“被遗忘权”（right to be forgotten），即用户个人可以要求责任方删除关于自己的数据记录。
    
本功能按照GDPR欧盟标准，支持删除指定用户的数据记录。


## 功能边界或约束[](#gong-neng-bian-jie-huo-yue-shu)

本功能仅删除已采集进入系统的指定用户的数据记录，对于已删除的用户，并不阻止其新的数据进入。若要不再采集其数据，你需要在数据采集SDK的埋点代码中过滤掉这些已删除的用户，以便于不再采集和上报他们的数据。

### 删除范围[](#shan-chu-fan-wei)

* 删除event表中指定用户的登录前后的所有事件数据
    
    * 客户端和服务端通过代码埋点采集的自定义事件数据
        
    * 无代码埋点自动采集的应用访问、页面浏览、元素点击等事件数据
        
    * 通过批量方式导入的事件数据
        
    
* 删除user表中指定用户的所有属性数据
    
用户删除的方式为硬删除，涉及到集群上所有分片和副本的处理。删除后无法恢复，请谨慎操作。


### 删除效果[](#shan-chu-xiao-guo)

* 分析图表实时更新，统计结果不再包含已删除用户的数据
    
* 标签和分群不再包含已删除用户的数据
    
* 其他所有依赖用户/事件表计算的功能、应用和接口均不再包含已删除用户的数据
    

## 功能说明[](#gong-neng-shuo-ming)

### 提交删除请求[](#step-1-ti-jiao-shan-chu-qing-qiu)

进入【客户数据平台】-【数据集成】-【用户删除管理】页面，点击“新建删除记录”按钮创建一条需要删除的用户记录，在表格中可以看到已提交的所有记录及处理状态。

![](https://gblobscdn.gitbook.com/assets%2F-M2qbZInaXgdm8kkNosp%2F-MiVaBYw7GzY54HacNZc%2F-MiVdUK69zGKYFuzI_vd%2F%E6%9C%AA%E5%91%BD%E5%90%8D1630487570.png?alt=media&token=dfa90316-0957-4224-8cc2-92436dc6d57b)


### 变更删除状态[](#step-2-bian-geng-shan-chu-zhuang-tai)

通过脚本运行模式下的辅助工具，执行[clear_users](/op/v/2.0/developer-manual/toolbox/user_delete)命令，将状态为待删除的所有用户记录，变更为删除中。


### 执行删除操作[](#step-3-zhi-hang-shan-chu-cao-zuo)

系统每日定时运行删除任务，将状态为删除中的所有用户的数据硬删除，完成后回写状态为已删除。
​

## 常见问题[](#chang-jian-wen-ti)

**问题：已删除的数据还能被找回吗？**

回答：删除方式为硬删除，无法找回和恢复。删除的范围包含指定用户在集群上所有分片和副本中的数据，请谨慎操作。

**问题：提交的用户数据删除请求，可以撤销吗？**

回答：仅支持在提交记录的状态为待删除时可以撤销。

**问题：变更删除状态的操作为什么需要在脚本模式下运行辅助工具？**

回答：脚本模式下，支持您配置定时任务来决定删除用户数据的周期。建议每次处理的记录数不超过1000条，且在服务器低负载时段执行。

**问题：删除指定用户的数据后，还会继续采集和写入吗？**

回答：删除指定用户数据，仅是删除当前已入库的数据，并不组织该用户数据继续采集和写入。用户数据采集的开关请在SDK埋点中设置。
