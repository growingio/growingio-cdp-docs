---
id: realtime-tags
sidebar_position: 5
---

# 实时标签

## 简介[](#jian-jie)


在标签创建过程中，可以将计算类型设置为实时计算，这样当该标签依赖的事件被采集入库后，标签值将即时更新。

![picture 1](/img/94ec6e5697036ccd4289734885ab0c7366b5d8c21ab5305f6f609b3318b2be2e_pic_1683731705750_2023-05-10.png)  

## 原理机制[](#yueshu)

借助如下线框示意图，可以更好地理解实时标签的原理机制和性能约束

![picture 4](/img/3df4029f9c83e40d5e157be0e6b069657ce0773d12b086441289183d1e9be336_pic_1683738385310_2023-05-11.png)  


- 实时标签被创建后，其规则将被自动同步到实时计算系统
- 实时计算系统实时识别出标签依赖的事件，当收到事件入库的信号后，立即将标签重算
- 标签的新值即时回写到实时数据流
- 实时数据流中的标签值
    - 进入到UEI模型数仓，即分析云的数据底座，进一步被上层增长分析、智能运营等工具使用
    - 进入到高并发数据库，进一步被业务系统调用，支持千人千面等业务场景
    - 被业务系统实时订阅，支持推荐业务等场景

## 性能约束[](#changjing)
- 实时标签被创建后，其规则同步到实时计算系统有一定的时间间隔，目前被控制在5分钟以内
- 从用户行为数据事件被采集进入实时数据流，到标签值被更新，再到写回实时流并进入到数据底座，最终被下游使用（基于明细计算的用户行为分析、智能运营工具，被OpenAPI接口高速调用，或被实时订阅）的时间间隔一般不超过15秒
- 由于标签的实时计算较为占用系统资源，因此在项目中，默认可创建的实时标签数量不超过10个。只有当硬件资源足够充分，可以在全局参数中调高数量限制
- 目前支持实时计算的标签有基础指标值、最大值/最小值的事件属性、首次/末次的事件属性、列表类的事件属性这四类标签
- 若需要通过OpenAPI高并发调用实时标签，需要提前部署高并发数据库资源，否则调用失败


## 场景举例[](#changjing)

某房地产企业拥有若干置业顾问，他们的主要工作是将APP上挂出来的房源售卖给潜在的买房人。

置业顾问在电话跟进（潜在）客户的过程中，客户当天甚至当时就有在使用房企的APP、小程序等产品搜索小区或者使用房贷计算器的行为，客户的行为数据被实时标签计算后形成经济能力、区域偏好等标签，然后被置业顾问即时查看到。

置业顾问因为更全面、即时地掌握了客户画像，调整营销策略，使得客户签单的意向获得提升，最终赢得客户。


