---
id: metric-management
sidebar_position: 4
---

# 指标管理

## 简介

在制作单图，搭建分析看板过程中，经常会遇到一些需要在各处复用的、口径一致的指标，比如 GMV、CTR、ARPU 等，为了提高协作效率，我们可以在指标管理中，把这些复用性强的指标管理起来，以便于在制作图表过程中可以快速引用它们。

## 功能边界或约束

考虑到指标在统计查询中的性能，GrowingIO 对创建指标的复杂度做了限制，具体是：

- 指标依赖的事件数量不超过 10 个
- 指标中的每个事件的过滤条件数量不超过 5 个

## 功能说明

指标管理的访问入口：【项目 XXX】 - 【数据管理】 - 【指标管理】

### 创建指标

![创建指标](/img/c5e8a032f3f50978145c6f4933036fdeb100dc33eddc2eb2f3c88b9753202fa7_pic_1640070736412_2021-12-21.png)

| 项目     | 含义                                                                                                 |
| -------- | ---------------------------------------------------------------------------------------------------- |
| 名称     | 要创建指标的名称                                                                                     |
| 描述     | 要创建指标的描述                                                                                     |
| 运算指标 | 指标的运算项，支持选择事件+度量+过滤条件。每个运算项都有对应的英文大写字母，作为计算公式中引用的代号 |
| 计算公式 | 指标的四则运算公式，引用运算指标中各运算项的英文字母代号做计算                                       |
| 展示     | 指标结果的展示格式，可选项百分比、两位小数和取整                                                     |

### 编辑指标

对于已创建的指标，支持您再次编辑。

具体操作是点击某行指标，在详情页中点击“编辑”按钮，即可进入编辑弹窗。

![编辑指标](/img/fd28bf5f129defaff35226b09d71daf562373dd8e1ab4629e0e0b8dd60e22cf2_pic_1640070800570_2021-12-21.png)

### 删除指标

对于已创建的指标，如果不再使用需要删除，可点击某指标行的操作列，在弹窗中点击“删除”按钮，即可删除该指标。

![删除指标](/img/4e3f0899ec41e7c6a00582d70cb2c9ebfb761dae38c93a7296fd7a0fae605a05_pic_1640070853402_2021-12-21.png)

### 切换预置指标

GrowingIO 预置了常用指标，以便于您快速上手，具体操作是点击页面上的“预置”按钮，表格中的内容即展示预置的指标。预置指标的含义、口径等详情请见附录。

![切换预置指标](/img/294501bdbbf96e5f3f7a08b509d8572bad55540371820bc3a3c856d7a87177f7_pic_1640070999238_2021-12-21.png)

### 应用指标

在事件分析、KPI 分析中可应用已创建的指标来进行监控和分析。

在分析工具中，点击“**+ 指标**” ，在选择器中切换到“**指标**”，即可选择可用的“**预置指标**”或“**自定义指标**”。

鼠标悬浮到指标名称上，可预览该指标的数据和定义。

![应用指标](/img/a02ac20e93da616394ae815026c8c2d32191a5c1a1243c6e003e76ff08ea4d9a_pic_1640077448622_2021-12-21.png)

## 应用案例

### 案例：电商平台计算付费客户的人均日消费

假设埋点了订单支付事件 payOrder，该事件关联了事件属性支付金额（pay_amount，小数类型），可以创建一个指标 ARPU 来表征付费客户的人均日消费，创建指标的表单内容如下：

![应用案例](/img/52606d9b5c6e0452cf980c0109dd58d2233349fd6a3f136a40f2ccd3f099c650_pic_1640071056109_2021-12-21.png)

## 常见问题

### Q：是否支持创建项目间可复用的全局指标？

A：暂不支持。

## 附录：预置指标

| 指标名称           | 含义描述                                              | 计算口径                        | 查询语句                                                                                         |
| ------------------ | ----------------------------------------------------- | ------------------------------- | ------------------------------------------------------------------------------------------------ |
| 用户量             | 网站、App、小程序上有过任意行为的独立用户数量         | 任意事件的总人数                | select count(distinct gio_id) <br/>from event <br/>where event_key='$anyevent'                   |
| 页面浏览量         | 用户实际浏览过的网页数量                              | 页面浏览的总次数                | select count(1)<br/>from event <br/>where event_key='$page'                                      |
| 访问量             | 访问事件的数量                                        | 访问的总次数                    | select count(1)<br/>from event <br/>where event_key='$visit'                                     |
| 每次访问页面浏览量 | 用户平均每次进入网站/APP/小程序所带来的页面浏览的数量 | 页面浏览的总次数 / 访问的总次数 | select sum($page_count)/count(1) from event <br/>where event_key='$visit'                        |
| 人均访问次数       | 用户平均进入网站/APP/小程序的次数                     | 访问量 / 访问的总人数           | select count(1)/count(distinct gio_id)<br/>from event<br/>where event_key='$visit'               |
| 总访问时长         | 所有访问的总时长                                      | 访问的时长的总和                | select sum($duration)<br/>from event<br/>where event_key='$visit'                                |
| 平均访问时长       | 所有访问的平均时长                                    | 访问的时长的平均值              | select sum($duration)/count(1)<br/>from event<br/>where event_key='$visit'                       |
| 跳出次数           | 访问中仅浏览 1 个页面就离开的访问次数                 | 访问跳出的总次数                | select count(1)<br/>from event<br/>where event_key='$bounce'                                     |
| 跳出率             | 只有 1 个页面浏览的访问占所有访问的比率               | 跳出次数 / 访问量               | select count(if(event_key='$visit',1,null))/count(if(event_key='$bounce',1,null))<br/>from event |
| 总页面停留时长     | 所有页面浏览的总时长                                  | 页面浏览的时长的总和            | select sum($duration)<br/>from event<br/>where event_key='$page'                                 |
| 平均页面停留时长   | 所有页面浏览的平均时长                                | 页面浏览的时长的平均值          | select sum($duration)/count(1)<br/>from event<br/>where event_key='$page'                        |
| 退出次数           | 用户退出网站/App/小程序的数量                         | 访问退出的总次数                | select count(1)<br/>from event<br/>where event_key='$exit'                                       |
