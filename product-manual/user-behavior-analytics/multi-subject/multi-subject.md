---
id: multi-subject
sidebar_position: 1
---

# 多主体分析

## 简介

UBA设计之初的核心思路是分析以“人”为主体的行为事件（谁做了什么），专注于用户行为，也可覆盖绝大部分的用户域的分析场景。但随着服务的客户的增多，我们发现在实际分析场景中，客户需要在特定情况下分析非用户域的行为诉求。例如零售行业分析各个商户的经营情况、游戏行业分析不同的账号的活跃和充值情况等。所以我们推出了多主体分析的功能，来解决客户的这些需求。

核心功能包括：
- 多主体创建与管理
- 事件分析内可支持切换主体分析

## 使用说明
用一个实例来说明多主体的分析能力与分析过程：

### 某房地产企业希望能以家庭（一户）为单位进行物业服务相关的分析，比如报修次数、投诉次数等

由于房地产企业的用户都是自然人，埋点上报的userid也是自然人的身份ID，而不是家庭ID。这个时候就需要在上报userid时，把这个自然人关联成功的家庭ID或者房产ID作为用户属性报上来。

接下来就按照如下操作即可完成以家庭为主体的报修次数分析了。
1. 在数据中心的分析主体模块进行新的分析主体创建
![图 1](/img/ca427d0af6efbf5d38e6778e917e23f823d595643d8d1a122eb2c2c51362f922_pic_1685327805950_2023-05-29.png)  

2. 选择对应的属性作为新的分析主体，在这个场景中我们选择用户属性-家庭ID，同时我们也支持事件属性或者虚拟属性作为分析主体，覆盖更多的分析诉求
![图 2](/img/9930a0d9936c9df8da71368009af694941523ff36e06ca748713b296f9cc9590_pic_1685327875687_2023-05-29.png)  

3. 分析主体创建完毕后，即可回到事件分析当中进行分析；在事件分析规则区顶部可以进行分析主体的切换，当选择“家庭”主体后，再按照事件分析的流程选择对应的指标即可完成分析
![图 3](/img/fd72aaa87eee18bd22bab57918c74834753181dcd30189138dc7c70abc293770_pic_1685327967363_2023-05-29.png)  


## 功能边界和约束

1. 支持用户属性、事件属性、虚拟属性作为分析主体创建
2. 当前仅支持事件分析模型

