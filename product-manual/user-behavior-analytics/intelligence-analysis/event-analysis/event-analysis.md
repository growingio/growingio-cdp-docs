---
id: event-analysis
sidebar_position: 1
---

# 事件分析

## 简介[](#jian-jie)

事件分析帮助你分析以用户行为事件为核心的指标，并用多种可视化方式展示你的分析结果。你可以借助事件分析进行趋势分析、对比分析、排序分析、构成分析、分布分析等。

核心功能包括：

- 提供丰富的度量**事件**的方式，如事件的次数、人数、人均、中位数、属性的去重、数值属性的求和、求均、人均等统计逻辑等；
- 提供计算指标，即通过四则运算方式将多个单一行为指标加工成复杂计算指标，如人数占比、转化率等；
- 借助事件属性、用户属性、用户标签等对指标进行拆分；
- 提供分钟级（实时分析）、小时级、天级别、周、月、年级别的数据统计；
- 提供0～23点、周一～周日、1～31号的聚合统计能力
- 对比不同的目标用户，查看不同用户群的指标及维度数值；
- 提供趋势图、柱状图、环形图、表格图、气泡图 等多种可视化方式展示分析结果

> 常用场景：
>
> - 过去 30 天 ，鞋子的交易量和交易金额分别是多少？
>
> - 过去 30 天 ，交易量在每天的时刻分布是怎样的？在每周7天内交易波峰波谷分别在周几？
>
> - 交易一共发生在多少城市？分布如何？
>
> - 昨天的用户访问量是多少？
>
> - 客户服务的 NPS 趋势如何？
>
> - Top 10 渠道的注册人数分别是多少？
>
> - 高净值用户和普通用户的趋势过去一年是否发生了变化？

## 名词解释[](#ming-ci-jie-shi)

事件分析的基础概念包括：事件、指标、属性、维度，均为 GrowingIO 智能分析产品的通用概念，参见：[智能分析 - 名词解释](../../../product-manual/product-analysis/#名词解释)​

## 功能说明[](#gong-neng-shuo-ming)

### 创建事件分析简述[](#chuang-jian-shi-jian-fen-xi-jian-shu)

1. 在左侧导航栏选择“**分析模型 \> 事件分析**"，进入事件分析列表页。

![图 41](/img/db0792c26aed63838336056d0735079f448138dfaa57a7cf90a1e12ddaf90376.png)  


2. 单击右侧列表上方"**新建事件分析"，**进入**创建事件分析**页面。

![](/img/assets-M2qbZInaXgdm8kkNosp-MVUvFebeCRXtj1pYDKy-MVUy5GXFWBNfy98ijw1.png)

您可以按照如下步骤创建事件分析：

| 项               | 说明                                                                                                                                                                                                                                   |
| ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1-指标           | 选择事件和事件的度量方式、计算指标等任一进行分析，并可以对其进行过滤。                                                                                                                                                                 |
| 2-添加维度       | 选择维度拆分事件指标，进行更加精细化的分析；可选的拆分维度会随着事件指标的选择而产生变化。最大支持 10 个维度值的拆分。如果您选择的事件指标与维度的组合无意义，系统也会进行提示。维度支持事件属性、访问属性、用户属性、用户标签的拆解。 |
| 3-目标用户       | 选择分析的对象人群，支持最多选择 5 个不同类型的分群进行对比分析。我们默认提供全部用户。您也可以通过用户分群功能创建特定的分群用户，对特定的分群用户进行分析。                                                                          |
| 4-全局过滤       | 过滤条件可选择不同维度的特定数值或文本，从而实现模糊或精确匹配，最多可叠加5种不同过滤条件。                                                                                                                                          |
| 5-时间范围与粒度 | 包括今日、昨天、过去7天、14天、30天、180天以及365天等常用用户活动周期。颗粒度选择可选分钟、小时、天、周以及月，确保分析精细程度。                                                                                              |
| 6-图表类型       | 事件分析提供了 6 种不同的图表样式，依次是：1.线图 2. 纵向柱图 3.表格 4.横向柱图 5.环形图 6.气泡图。详细请参考视图介绍。                                                                                                                |
| 7-维度展示条数   | 设置图表中展示的维度条数。                                                                                                                                                                                                             |

3. 选择参数后，右侧即可实时展示分析图表。

4. 单击右上角保存，完成一个事件分析的创建。

### 定义指标的方法[](#ding-yi-zhi-biao-de-fang-fa)

#### 事件和事件的度量方式[](#shi-jian-he-shi-jian-de-du-liang-fang-shi)

GrowingIO 提供了丰富的事件度量方式，以「购买事件」为例，介绍度量方式，示例含义和常见场景。

| 度量方式                       | 示例                         | 含义                                                                                                                                                                                                                                                                                                                                                                                                         | 场景                                       |
| ------------------------------ | ---------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------ |
| 次数                           | 购买次数                     | 对购买事件的次数进行计数                                                                                                                                                                                                                                                                                                                                                                                     | 用户购买了多少次？                         |
| 人数                           | 购买人数                     | 做过购买事件的去重用户数                                                                                                                                                                                                                                                                                                                                                                                     | 有多少用户进行了购买？                     |
| 人均                           | 人均购买次数                 | 购买事件总次数除以总人数                                                                                                                                                                                                                                                                                                                                                                                     | 人均购买了多少次？                         |
| 每人总计-最大值                | 购买每人总计最大值           | 购买事件每人总计的「最大值」：目标人群中，所选时间内每人做过购买次数的最大值。g 过去 7 天，ABC 分别购买了产品 3 次，4 次，5 次，那么购买每人总计最大值是 5。                                                                                                                                                                                                                                                 | 购买人群中，购买最多的人购买了多少次？     |
| 每人总计-最小值                | 购买每人总计最小值           | 购买事件每人总计的「最小值」：目标人群中，所选时间内每人做过购买次数的最小值。g 过去 7 天，ABC 分别购买了产品 3 次，4 次，5 次，那么购买每人总计最小值是 3。                                                                                                                                                                                                                                                 | 购买人群中，购买最少的人购买了多少次？     |
| 每人总计-中位数                | 购买每人总计中位数           | 购买事件每人总计的「中位数」：目标人群中，所选时间内每人做过「该事件」次数中位数值。e .g .过去 7 天，ABC 分别购买了产品 3 次，4 次，5 次，那么购买每人总计中位数是 4。                                                                                                                                                                                                                                       | 购买人群中，每人购买次数的中位数是多少？   |
| 每人总计-分位数                | 购买每人总计分位数           | 购买事件每人总计的「分位数」：目标人群中，所选时间内每人做过「该事件」次数 X 分位数值（25 分位，75 分位，90 分位等）[https://baike.baidu.com/item/%E5%88%86%E4%BD%8D%E5%80%BC](https://baike.baidu.com/item/%E5%88%86%E4%BD%8D%E5%80%BC)​                                                                                                                                                                    | 购买人群中，每人购买次数的 25 位数是多少？ |
| 数值型属性-总计                | 购买金额-总计                | 当事件发生时，目标事件对应的数值型变量值的和。eg.过去 7 天，ABC 分别购买了产品 3 次，4 次，5 次，A 的购买价格分别是 1,2,3 B 购买价格 是 2，3，4，5，C 购买价格是 1，2，3，4，5 那么购买金额总计是 （1+2+3）+（2+3+4+5）+(1+2+3+4+5)=31。                                                                                                                                                                     | 购买事件的购买金额值的和。                 |
| 数值型属性-均值                | 购买-购买金额-均值           | 事件发生时，目标事件对应的数值型变量值的和除以事件发生的次数。eg.过去 7 天，ABC 分别购买了产品 3 次，4 次，5 次，A 的购买价格分别是 1,2,3； B 购买价格是 2，3，4，5；C 购买价格是 1，2，3，4，5 ，那么 购买金额均值= 31/(3+4+5)。                                                                                                                                                                            | 购买订单价均值是多少？                     |
| 数值型属性-最大值              | 购买-购买金额-最大值         | 当事件发生时，目标事件对应的数值型变量值的最大值。eg.过去 7 天，ABC 分别购买了产品 3 次，4 次，5 次，A 的购买价格分别是 1,2,3 ；B 购买价格是 2，3，4，5；C 购买价格是 1，2，3，4，5 那么 购买金额最大值是 5。                                                                                                                                                                                                | 购买事件中对应的最大金额是多少？           |
| 数值型属性-最小值              | 购买-购买金额-最大值         | 当事件发生时，目标事件对应的数值型变量值的最小值。eg.过去 7 天，ABC 分别购买了产品 3 次，4 次，5 次，A 的购买价格分别是 1,2,3 ；B 购买价格是 2，3，4，5；C 购买价格是 1，2，3，4，5 那么 购买金额最小值是 1。                                                                                                                                                                                                | 购买事件中对应的最小金额是多少？           |
| 事件-每人数值型属性总计-均值   | 购买-每人购买金额总计-均值   | 目标用户中，每个用户购买金额之和的均值。eg.过去 7 天，ABC 分别购买了产品 3 次，4 次，5 次，A 的购买价格分别是 1,2,3； B 购买价格是 2，3，4，5；C 购买价格是 1，2，3，4，5 ，那么 每个用户购买金额均值= 31/3。                                                                                                                                                                                                | 人均客单价是多少？                         |
| 事件-每人数值型属性总计-中位数 | 购买-每人购买金额总计-中值   | 目标用户中，每个用户购买金额之和的中位数。eg.过去 7 天，ABC 分别购买了产品 3 次，4 次，5 次，A 的购买价格分别是 1,2,3； B 购买价格是 2，3，4，5；C 购买价格是 1，2，3，4，5 ，那么 A 购买总金额 6， B 购买总金额 14，C 购买总金额 15 中位数是 14。                                                                                                                                                           | 客单价的中位数是多少？                     |
| 事件-每人数值型属性总计-分位数 | 购买-每人购买金额总计-分位数 | 目标用户中，每个用户购买金额之和的分位数。eg.过去 7 天，ABC 分别购买了产品 3 次，4 次，5 次，A 的购买价格分别是 1,2,3； B 购买价格是 2，3，4，5；C 购买价格是 1，2，3，4，5 ，那么 A 购买总金额 6， B 购买总金额 14，C 购买总金额 15 。接下来就是求 6，14，15 的分位数，分位数算法 详见[https://baike.baidu.com/item/%E5%88%86%E4%BD%8D%E5%80%BC](https://baike.baidu.com/item/%E5%88%86%E4%BD%8D%E5%80%BC)​ | 客单价的 25 分位数是多少？                 |
| 事件-每人数值型属性总计-最大值 | 购买-每人购买金额总计-最大值 | 目标用户中，每个用户购买金额之和的最大值。eg.过去 7 天，ABC 分别购买了产品 3 次，4 次，5 次，A 的购买价格分别是 1,2,3； B 购买价格是 2，3，4，5；C 购买价格是 1，2，3，4，5 ，那么 A 购买总金额 6， B 购买总金额 14，C 购买总金额 15 。客单价最大值是 15                                                                                                                                                     | 客单价的最大值是多少                       |
| 事件-每人数值型属性总计-最小值 | 购买-每人购买金额总计-最小值 | 目标用户中，每个用户购买金额之和的最小值。eg.过去 7 天，ABC 分别购买了产品 3 次，4 次，5 次，A 的购买价格分别是 1,2,3； B 购买价格是 2，3，4，5；C 购买价格是 1，2，3，4，5 ，那么 A 购买总金额 6， B 购买总金额 14，C 购买总金额 15 。客单价最小值是 6                                                                                                                                                      | 客单价的最小值是多少                       |
| 事件-属性-去重数               | 购买-品类-去重复             | 目标用户中，用户购买的品类数量是多少？过去 7 天，ABC 分别购买了产品 3 次，4 次，5 次，A 买了足球，篮球和网球。 B 买了足球。C 买了乒乓球和羽毛球。那么品类去重后的总品类数量是 5                                                                                                                                                                                                                              | 用户购买的品类数量是多少？                 |

操作：当您选择事件之后，可以选择事件的度量方式，默认为事件的次数。

![](/img/assets-M2qbZInaXgdm8kkNosp-MRIBSOg7zZUAI-vNVFG-MRICTEG4ucwq1QHL6w1image.png)

**每人总计次数的度量方式：**您可以在每人总计次数下选择：中位数、25 分位数、75 分位数、90 分位数、最大值、最小值等。

![](/img/assets-M2qbZInaXgdm8kkNosp-MRIBSOg7zZUAI-vNVFG-MRICiVlbMafsXKaWuK1image.png)

**数值型属性**：按最大最小值和每人总计后求均值、中位数、最大值、最小值等度量方式。

![](/img/assets-M2qbZInaXgdm8kkNosp-MRIBSOg7zZUAI-vNVFG-MRICz6T5KcQR_ykBNm8image.png)

#### 指标重命名[](#zhi-biao-zhong-ming-ming)

您可以对指标进行别名，别名会展示到对应的图上。

![](/img/assets-M2qbZInaXgdm8kkNosp-MRIBSOg7zZUAI-vNVFG-MRIDEj-RxWMr3NCj-djimage.png)

您可以对选中的指标进行过滤：例如您可以分别对比在 IOS 渠道上，北京和上海的充值金额。

![](/img/assets-M2qbZInaXgdm8kkNosp-MVQS7IVyKfjz8SOnFBh-MVQeinkmscjxP5KH_43image.png)

如果您想分析的多个指标比较相像，只有过滤条件的值不同，您可以通过复制指标的功能，生成一个新指标，进而对新指标进行修改：

![](/img/assets-M2qbZInaXgdm8kkNosp-MVQS7IVyKfjz8SOnFBh-MVQj4W4JwE3J7Bu8CWr.png)

### 数值型属性区间分组[](#shu-zhi-xing-shu-xing-qu-jian-fen-zu)

在事件分析中，针对数值型数据做属性拆解时，可以按照自动规则的区间，或者自定义区间查看数值型属性的下钻数据。

1、针对数值型事件属性、虚拟属性、用户属性，用户标签，做属性拆解时，可以选择属性拆解的方式：

- 离散数字（没有区间）：不对数据做分组，默认按照这个规则做数据统计和图表展示。
- 默认区间：根据系统内置的统计模型对数值型数据做分组。
- 自定义区间：自定义设置数据的分组规则。

![picture 3](/img/05351768dbb7c383a7ecc402b22ac9612ce122cce72c6f85ed1ec463269d72ad_pic_1660031243737_2022-08-09.png)

2、将属性=时长(分钟)的属性拆解方式设置为“默认区间”，可以看到离散的数据分为了三个区间展示，可以切换图表的展示类型来洞察数据。

![picture 4](/img/4c8bd50b0dcc8b0f25e7a163730bc11904a075bbbcc53a00461e36862bdaa417_pic_1660031270932_2022-08-09.png)

![picture 5](/img/75f889944400e13db8ff5dbc045a274fdca26a7fc15394b49d484798cd038a5a_pic_1660031295163_2022-08-09.png)

3、如果默认区间不符合业务需要的区间规则，我们可以将属性拆解方式设置为“自定义区间”，输入自定义的区间：

![picture 6](/img/c5b628648a19947eba99f3a608645bdd7b7143a51dd5144934a317dc003b1671_pic_1660031325278_2022-08-09.png)

### 历史标签[](#li-shi-biao-qian)
如果在客户数据平台对某个标签的存储设置设置为：保留每日最新数据，如下图所示：
![图 1](/img/79eb57549bbfd8fc3a79fdada00e833509491e8879ad8017bf52cf1a2376f019.png)  

那么，在事件分析中，针对这个标签，支持按照以下三种方式选择：
* 最新结果：默认值。选择该标签的最新值进行分析。
* 匹配事件发生日期：选择事件发生日期一一对应的标签值序列进行分析。
* 自定义：可以选择任意历史日期数据进行分析。

![图 2](/img/f3ed4a8b0b03e14665a681fcaa8bb371ed5b8a31d0993d93d928ad9a468daf20.png)  

例如,选择9月12日-9月18日的时间，查看指标=A事件，属性拆解=B标签的分析结果：
![图 3](/img/9b0d4624e7008b7dcf479ffeb93a56048c358f7b31eb9a008d6ba00a1ff6e519.png)  


### 历史用户属性[](li-shi-yong-hu-shu-xing)
如果在数据中心对某个用户属性的存储历史数据设置为：开，如下图所示：
![图 6](/img/b17e596541d950a0a17fdd9a1d8e4d71338c38e1c8dc6a284286cde088d9b79a.png)  

那么，在事件分析中，针对这个用户属性，支持按照以下两周方式进行选择：
* 最新结果：默认值。选择该属性的最新值进行分析。
* 匹配事件发生日期：选择事件发生日期一一对应的属性值序列进行分析。
![图 5](/img/16dbe079b04ec140dfe38022e05c3c11f44350c13911e371aff233071e217e67.png)  

### 维度下钻
事件分析除了指标监控以外，还特别适合针对某个指标进行探索性分析。例如某一天的核心指标gmv出现异常偏低，需要定位原因，这个时候就需要进行维度拆解来找到异常偏低的原因。而通常这种原因不是单一维度，而是一些维度的组合带来的，而分析的过程一定是先找到具体一个维度，比如城市维度，发现北京地区的gmv在降低，然后接下来再进一步排查是什么原因导致北京降低的。

上述场景在实际操作时，会表现如下：
1. 当你选择「城市」维度做指标拆解时，发现原本一直处于所有城市最高的北京变成了第二，说明北京异常偏低（如下图）
![图 1](/img/5d5bdf87622720f95acd9d451d0d0c6a08792ae5cb80ac7e09bc5aa5d301a3d6_pic_1685275343788_2023-05-28.png)  

2. 接下来你想知道北京发生了什么，心里有个想法，看下是线上渠道交易出了问题还是线下？这时候你只需要单击「北京」所在行，就会出现选择下钻维度的选项，选择「渠道」维度后，就会自动对北京进行进一步的拆解（如下图）
![图 2](/img/ef6385f68ecb99ac11bc6e083a569cb032fed6c51eea38659e3c34947ae5f184_pic_1685276894584_2023-05-28.png)  
![图 3](/img/bdb3b50fad05efa96b8ec8dc258f0457ab1e159fcc67c28f25c375785c2c2eb8_pic_1685276977076_2023-05-28.png)  

3. 渠道维度拆解后，你可能发现各个渠道表现无明显异常，但都在差不多同幅度的下降，这说明渠道维度不是问题所在。这个时候就需要换一个维度进行分析。这时你可以点击“下钻路径”中的「渠道」维度，进行新的维度替换，例如「广告来源」维度
![图 4](/img/36c749ceafeeedff0819cdc70d73b7a202da41e167d7ee10190307fa9b82a04c_pic_1685277200922_2023-05-28.png)  

4. 这时你发现北京地区某个广告来源的用户的gmv有了明显的下降，经排查后是这个广告平台的投放出现了问题。就这样你通过灵活的下钻最终定位到了问题

